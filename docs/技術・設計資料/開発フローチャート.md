```Mermaid
graph TD
    %% 開始点
    A(スタート) --> B{学習プランがある？}

    %% 学習プランの有無による分岐
    B -- ない --> C[MEとCMで学習プランを作成]
    C --> D(学習プランに沿って、次にやるべきことをCMとMEが協議)

    B -- ある --> D
    D --> E[MEがやりたい事を整理してCMに「要求」を提示]

    %% 要求整理とCMの合意
    E --> F[CMが要求整理]
    F --> G{MEが合意した？}
    G -- できない --> F
    G -- した --> H[CMがSC-D向けの要件定義書を作成]

    %% 要件定義書展開と設計方針
    H --> I[MEがSC-Dに要件定義書を展開]
    I --> J{SC-Dが設計方針を提示し、MEとCMで合意した？}
    J -- できない --> I
    J -- した --> K[SC-Dが詳細設計ドラフト案を作成]

    %% 詳細設計ドラフトのレビューと改変ループ
    K --> L[ME,CM,RV-G,RV-C,SC-Iによるレビュー]
    L --> M{レビューの結果大幅な改変が必要である？}
    M -- である --> K
    M -- ない --> N[SC-Dが詳細設計確定版を作成]

    %% 詳細設計確定版のレビューと改変ループ
    N --> O[ME,CM,RV-G,RV-C,SC-Iによるレビュー]
    O --> P{レビューの結果大幅な改変が必要である？}
    P -- である --> N
    P -- ない --> Q[SC-Iがコード生成]

    %% コード生成のレビューと改変ループ
    Q --> R[ME,CM,RV-G,RV-C,SC-Dによるレビュー]
    R --> S{レビューの結果大幅な改変が必要である？}
    S -- である --> Q

    %% コード生成後の修正分岐
    S -- ない --> T{一部修正、微調整の提案あり？}
    T -- 一部修正、微調整の提案あり --> U[SC-Iがコード修正、微調整案を提示]
    U --> V{MEとCMで方針に合意した？}
    V -- できない --> U
    V -- できる --> W[SC-Iがコード修正]

    %% コード修正後のレビューとループ
    W --> X[ME,CM,RV-G,RV-C,SC-Dによるレビュー]
    X --> Y{修正が必要？}
    Y -- である --> W
    Y -- ない --> Z[MEがコード実装]

    %% 最終的な合流点（コード修正分岐からの合流）
    T -- ない --> Z

    %% エラーハンドリングの追加（SC-I中心）
    Z --> AA{エラーが出た？}
    AA -- でた --> AB[SC-Iが根本原因の候補を提示]
    AB --> AC[MEが調査し結果をSC-Iに報告]
    AC --> AD[SC-IがSC-Dと連携し、設計レベルの再考が必要か判断]
    AD --> AE{設計見直しが必要？}
    AE -- 必要 --> AF[SC-Dが修正設計を提示 → 再設計ループへ]
    AF --> K % 設計ドラフトに戻る
    AE -- 不要 --> AG[SC-Iがコード修正]
    AG --> Z % 実装に戻る

    AA -- でない --> AH((実装完了)) % 新しい終了点
```
